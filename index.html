<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Organizador de Mesas</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js"></script>
  </head>
  <body>
    <header class="topbar">
      <h1>Organizador de Mesas - Ariel Casamiento</h1>
      <div class="actions">
        <label class="file-input">
          <input id="excelFile" type="file" accept=".xlsx,.xls" />
          <span>Cargar Excel</span>
        </label>
        <label class="file-input">
          <input id="csvFile" type="file" accept=".csv" />
          <span>Cargar CSV asignacion</span>
        </label>
        <button id="addGuestBtn">Agregar invitado</button>
        <button id="addOneTableBtn">+1 mesa</button>
        <button id="exportBtn">Exportar CSV</button>
      </div>
    </header>

    <section class="toolbar">
      <div class="filters">
        <h2>Filtros</h2>
        <label>Buscar: <input id="searchInput" type="text" placeholder="Nombre o apellido" /></label>
        <label>
          Genero:
          <select id="genderFilter">
            <option value="all">Todos</option>
            <option value="H">Hombres</option>
            <option value="M">Mujeres</option>
          </select>
        </label>
      </div>
      <div class="stats" id="stats"></div>
    </section>

    <main class="board">
      <aside class="panel">
        <h3>Sin asignar</h3>
        <div id="unassignedList" class="dropzone guest-list" data-table-id=""></div>
      </aside>
      <section class="tables-wrap">
        <div id="tablesGrid" class="tables-grid"></div>
      </section>
    </main>

    <div id="authModal" class="auth-modal hidden" role="dialog" aria-modal="true" aria-labelledby="authTitle">
      <form id="authForm" class="auth-card">
        <h2 id="authTitle">Ingresar al organizador</h2>
        <label>
          Usuario
          <input id="authUser" type="text" autocomplete="username" required />
        </label>
        <label>
          Password
          <input id="authPass" type="password" autocomplete="current-password" required />
        </label>
        <p id="authError" class="auth-error hidden">Credenciales invalidas.</p>
        <div class="auth-actions">
          <button id="authSubmit" type="submit">Entrar</button>
        </div>
      </form>
    </div>

    <div id="guestModal" class="auth-modal hidden" role="dialog" aria-modal="true" aria-labelledby="guestTitle">
      <form id="guestForm" class="auth-card">
        <h2 id="guestTitle">Agregar invitado</h2>
        <label>
          Nombre
          <input id="guestFirstName" type="text" required />
        </label>
        <label>
          Apellido
          <input id="guestLastName" type="text" required />
        </label>
        <label>
          Genero
          <select id="guestGender" required>
            <option value="">Seleccionar...</option>
            <option value="H">Hombre</option>
            <option value="M">Mujer</option>
          </select>
        </label>
        <label>
          Confirmacion
          <select id="guestConfirmed" required>
            <option value="yes">Confirmado</option>
            <option value="no">Sin confirmar</option>
          </select>
        </label>
        <p id="guestError" class="auth-error hidden">Completa todos los campos.</p>
        <div class="auth-actions">
          <button id="guestCancel" type="button">Cancelar</button>
          <button id="guestSubmit" type="submit">Agregar</button>
        </div>
      </form>
    </div>

    <div id="toast" class="toast hidden"></div>
    <script src="app.js"></script>
  </body>
</html>
